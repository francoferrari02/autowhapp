{"ast":null,"code":"var _jsxFileName = \"/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/MainConfig.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Custom type guard for Axios errors\nconst isAxiosError = error => {\n  return axios.isAxiosError(error);\n};\nimport StorefrontIcon from '@mui/icons-material/Storefront';\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst businessTypes = [{\n  value: '',\n  label: 'Seleccionar'\n}, {\n  value: 'tienda_online',\n  label: 'Tienda Online (E-commerce): Para ventas de productos físicos o digitales.'\n}, {\n  value: 'moda',\n  label: 'Moda y Ropa: Tiendas de ropa, calzado o accesorios.'\n}, {\n  value: 'restaurante',\n  label: 'Restaurante o Cafetería: Negocios de comida y bebida.'\n}, {\n  value: 'agencia_viajes',\n  label: 'Agencia de Viajes: Para reservas de vuelos, hoteles o paquetes turísticos.'\n}, {\n  value: 'hotel',\n  label: 'Hotel o Hospedaje: Hoteles, hostales o Airbnb.'\n}, {\n  value: 'consultorio_medico',\n  label: 'Consultorio Médico: Clínicas, médicos o especialistas.'\n}, {\n  value: 'veterinaria',\n  label: 'Veterinaria: Servicios para mascotas.'\n}, {\n  value: 'gimnasio',\n  label: 'Gimnasio o Centro de Fitness: Para clases, membresías o entrenamientos.'\n}, {\n  value: 'salon_belleza',\n  label: 'Salón de Belleza o Spa: Citas para cortes de pelo, manicuras, masajes, etc.'\n}, {\n  value: 'inmobiliaria',\n  label: 'Inmobiliaria: Venta o alquiler de propiedades.'\n}, {\n  value: 'educacion',\n  label: 'Educación: Escuelas, cursos online o talleres.'\n}, {\n  value: 'concesionario',\n  label: 'Concesionario de Autos: Venta de autos, pruebas de manejo o mantenimiento.'\n}, {\n  value: 'electronica',\n  label: 'Tienda de Electrónica: Venta de dispositivos tecnológicos.'\n}, {\n  value: 'eventos',\n  label: 'Eventos y Entretenimiento: Organizadores de eventos, bodas o venta de entradas.'\n}, {\n  value: 'profesionales',\n  label: 'Servicios Profesionales: Abogados, contadores o consultores.'\n}, {\n  value: 'personalizado',\n  label: 'Personalizado'\n}];\n\n// Para FAQs\n\n// Componente para input con label e icono\nconst LabeledInput = ({\n  label,\n  icon,\n  name,\n  value,\n  placeholder,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col gap-1\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    htmlFor: name,\n    className: \"flex items-center gap-1 text-gray-700 font-semibold font-poppins\",\n    children: [icon, /*#__PURE__*/_jsxDEV(\"span\", {\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    id: name,\n    name: name,\n    value: value,\n    placeholder: placeholder,\n    onChange: onChange,\n    className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 52,\n  columnNumber: 3\n}, this);\n_c = LabeledInput;\nconst MainConfig = ({\n  negocioId\n}) => {\n  _s();\n  const [business, setBusiness] = useState(null);\n  const [error, setError] = useState(null);\n  const [context, setContext] = useState('');\n  const [faqs, setFaqs] = useState([]);\n  const [message, setMessage] = useState('');\n  const [customType, setCustomType] = useState('');\n  useEffect(() => {\n    setError(null);\n    console.log('Cargando negocio con ID:', negocioId); // Log para depurar\n    axios.get(`http://localhost:3000/api/negocio/${negocioId}`).then(response => {\n      const data = response.data;\n      const defaultHours = {\n        Lunes: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Martes: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Miércoles: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Jueves: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Viernes: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Sábado: {\n          open: '09:00',\n          close: '18:00'\n        },\n        Domingo: {\n          open: '09:00',\n          close: '18:00'\n        }\n      };\n      console.log('Datos del negocio cargados:', data); // Log para depurar\n      setBusiness({\n        id: data.id,\n        name: data.nombre,\n        type: data.tipo_negocio,\n        location: data.localidad,\n        address: data.direccion,\n        hours: data.horarios ? JSON.parse(data.horarios) : defaultHours,\n        isActive: data.estado_bot\n      });\n      setContext(data.contexto || '');\n      setCustomType(businessTypes.find(bt => bt.value === data.tipo_negocio) ? '' : data.tipo_negocio);\n    }).catch(error => {\n      var _error$response;\n      console.error('Error fetching business data:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 404) {\n        setError('Negocio no encontrado');\n      } else {\n        setError('Error al cargar la configuración');\n      }\n      setBusiness(null); // Asegurarse de que business sea null si hay error\n    });\n    axios.get(`http://localhost:3000/api/faqs/${negocioId}`).then(response => {\n      const mapped = response.data.map(f => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta\n      }));\n      setFaqs(mapped);\n    }).catch(error => {\n      console.error('Error fetching FAQs:', error);\n      setFaqs([]);\n    });\n  }, [negocioId]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (business) setBusiness({\n      ...business,\n      [name]: value\n    });\n  };\n  const handleTypeChange = e => {\n    const value = e.target.value;\n    if (business) {\n      if (value === 'personalizado') {\n        setCustomType('');\n        setBusiness({\n          ...business,\n          type: 'personalizado'\n        });\n      } else {\n        setCustomType('');\n        setBusiness({\n          ...business,\n          type: value\n        });\n      }\n    }\n  };\n  const handleCustomTypeChange = e => {\n    const value = e.target.value;\n    setCustomType(value);\n    if (business) setBusiness({\n      ...business,\n      type: value\n    });\n  };\n  const handleHoursChange = (day, field, value) => {\n    if (business) {\n      setBusiness({\n        ...business,\n        hours: {\n          ...business.hours,\n          [day]: {\n            ...business.hours[day],\n            [field]: value\n          }\n        }\n      });\n    }\n  };\n\n  // --- FAQ CRUD ---\n  const handleFaqChange = (index, field, value) => {\n    setFaqs(f => f.map((faq, i) => i === index ? {\n      ...faq,\n      [field]: value\n    } : faq));\n  };\n  const addFaq = () => {\n    setFaqs([...faqs, {\n      question: '',\n      answer: '',\n      isNew: true\n    }]);\n  };\n  const handleSave = async () => {\n    if (!business) return;\n    try {\n      // Guarda config de negocio\n      const updatedBusiness = {\n        nombre: business.name,\n        tipo_negocio: business.type,\n        localidad: business.location,\n        direccion: business.address,\n        horarios: JSON.stringify(business.hours),\n        contexto: context\n      };\n      await axios.put(`http://localhost:3000/api/negocio/${negocioId}`, updatedBusiness);\n\n      // CRUD FAQs\n      for (const faq of faqs) {\n        // Validar que la FAQ tenga pregunta y respuesta no vacías\n        if (!faq.question.trim() || !faq.answer.trim()) {\n          setMessage(`Error: La FAQ \"${faq.question || 'sin pregunta'}\" tiene campos vacíos. Por favor, completa ambos campos.`);\n          return;\n        }\n        if (!faq.id) {\n          // Crear nueva FAQ\n          const response = await axios.post('http://localhost:3000/api/faqs', {\n            negocioId,\n            pregunta: faq.question.trim(),\n            respuesta: faq.answer.trim()\n          });\n          // Actualizar el ID de la FAQ recién creada\n          faq.id = response.data.id;\n        } else {\n          // Actualizar FAQ existente\n          await axios.put(`http://localhost:3000/api/faqs/${faq.id}`, {\n            pregunta: faq.question.trim(),\n            respuesta: faq.answer.trim()\n          });\n        }\n      }\n\n      // Actualiza la lista de FAQs desde el backend\n      const res = await axios.get(`http://localhost:3000/api/faqs/${negocioId}`);\n      setFaqs(res.data.map(f => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta\n      })));\n      setMessage('Configuración guardada con éxito');\n    } catch (error) {\n      console.error('Error saving configuration:', error);\n      if (isAxiosError(error)) {\n        var _error$response2, _error$response2$data;\n        setMessage(`Error al guardar la configuración: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message}`);\n      } else {\n        setMessage(`Error al guardar la configuración: ${String(error)}`);\n      }\n    }\n  };\n  const removeFaq = async index => {\n    const toDelete = faqs[index];\n    try {\n      if (toDelete.id) {\n        // Eliminar FAQ del backend\n        await axios.delete(`http://localhost:3000/api/faqs/${toDelete.id}`);\n      }\n      // Actualizar la lista de FAQs desde el backend\n      const res = await axios.get(`http://localhost:3000/api/faqs/${negocioId}`);\n      setFaqs(res.data.map(f => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta\n      })));\n      setMessage('FAQ eliminada con éxito');\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error al eliminar FAQ:', error);\n      setMessage(`Error al eliminar FAQ: ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message}`);\n    }\n  };\n  const days = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\n  if (!business) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-gray-500 font-poppins\",\n    children: \"Cargando datos del negocio...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg p-6 max-w-[1000px] mx-auto\",\n    style: {\n      boxShadow: '0 0 7px 7px rgba(0,0,0,0.2)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-black mb-6 font-poppins\",\n      children: \"Informaci\\xF3n de Negocio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-5\",\n      children: [/*#__PURE__*/_jsxDEV(LabeledInput, {\n        label: \"Nombre del Negocio\",\n        icon: /*#__PURE__*/_jsxDEV(StorefrontIcon, {\n          className: \"text-primary-blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }, this),\n        name: \"name\",\n        value: business.name,\n        placeholder: \"La Pizzer\\xEDa Italiana\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"type\",\n          className: \"text-gray-700 font-semibold font-poppins\",\n          children: \"Tipo de Negocio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"type\",\n          value: businessTypes.find(bt => bt.value === business.type) ? business.type : 'personalizado',\n          onChange: handleTypeChange,\n          className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\",\n          children: businessTypes.map(({\n            value,\n            label\n          }) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: value,\n            disabled: value === '',\n            children: label\n          }, value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), (business.type === 'personalizado' || !businessTypes.find(bt => bt.value === business.type)) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"customType\",\n          className: \"text-gray-700 font-semibold font-poppins\",\n          children: \"Especifique el Tipo de Negocio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"customType\",\n          type: \"text\",\n          value: customType,\n          placeholder: \"Ingrese el tipo de negocio manualmente\",\n          onChange: handleCustomTypeChange,\n          className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LabeledInput, {\n        label: \"Localidad\",\n        icon: /*#__PURE__*/_jsxDEV(LocationOnIcon, {\n          className: \"text-primary-blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 17\n        }, this),\n        name: \"location\",\n        value: business.location,\n        placeholder: \"Buenos Aires\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LabeledInput, {\n        label: \"Direcci\\xF3n\",\n        icon: /*#__PURE__*/_jsxDEV(LocationOnIcon, {\n          className: \"text-primary-blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 17\n        }, this),\n        name: \"address\",\n        value: business.address,\n        placeholder: \"Av. Corrientes 123\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-gray-300 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-3 bg-gray-100 rounded-t-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 font-poppins font-semibold text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(AccessTimeIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Horarios de Atenci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 grid grid-cols-1 md:grid-cols-2 gap-3\",\n          children: days.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-24 font-poppins text-gray-700\",\n              children: day\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: business.hours[day].open,\n              onChange: e => handleHoursChange(day, 'open', e.target.value),\n              className: \"p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: business.hours[day].close,\n              onChange: e => handleHoursChange(day, 'close', e.target.value),\n              className: \"p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, day, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"context\",\n          className: \"flex items-center gap-2 text-gray-700 font-semibold font-poppins\",\n          children: [/*#__PURE__*/_jsxDEV(ChatBubbleOutlineIcon, {\n            className: \"text-primary-blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this), \"Sugerencias/Aclaraciones para el Bot (Opcional)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"context\",\n          value: context,\n          onChange: e => setContext(e.target.value),\n          placeholder: \"Dale alguna sugerencia o aclaraci\\xF3n extra al bot (opcional)...\",\n          className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\",\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-black mb-4 font-poppins\",\n        children: \"Preguntas Frecuentes (FAQs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), faqs.map((faq, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-3 mb-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: faq.question,\n          onChange: e => handleFaqChange(index, 'question', e.target.value),\n          placeholder: \"Pregunta\",\n          className: \"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: faq.answer,\n          onChange: e => handleFaqChange(index, 'answer', e.target.value),\n          placeholder: \"Respuesta\",\n          className: \"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeFaq(index),\n          \"aria-label\": \"Eliminar pregunta frecuente\",\n          title: \"Eliminar FAQ\",\n          className: \"text-primary-red hover:text-secondary-red p-2 rounded focus:outline-none\",\n          children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addFaq,\n          className: \"bg-primary-blue text-white px-4 py-2 rounded-lg hover:bg-[#153E6F] font-poppins\",\n          children: \"A\\xD1ADIR FAQ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"bg-primary-green text-white px-4 py-2 rounded-lg hover:bg-secondary-green font-poppins\",\n          children: \"GUARDAR CAMBIOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `mt-4 font-poppins ${message.includes('Error') ? 'text-red-500' : 'text-green-500'}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this);\n};\n_s(MainConfig, \"Z1GEbJhie+4SScyb5uBTMqjRRsE=\");\n_c2 = MainConfig;\nexport default MainConfig;\nvar _c, _c2;\n$RefreshReg$(_c, \"LabeledInput\");\n$RefreshReg$(_c2, \"MainConfig\");","map":{"version":3,"names":["useState","useEffect","axios","isAxiosError","error","StorefrontIcon","LocationOnIcon","AccessTimeIcon","DeleteIcon","ChatBubbleOutlineIcon","jsxDEV","_jsxDEV","businessTypes","value","label","LabeledInput","icon","name","placeholder","onChange","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","MainConfig","negocioId","_s","business","setBusiness","setError","context","setContext","faqs","setFaqs","message","setMessage","customType","setCustomType","console","log","get","then","response","data","defaultHours","Lunes","open","close","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo","nombre","type","tipo_negocio","location","localidad","address","direccion","hours","horarios","JSON","parse","isActive","estado_bot","contexto","find","bt","catch","_error$response","status","mapped","map","f","question","pregunta","answer","respuesta","handleInputChange","e","target","handleTypeChange","handleCustomTypeChange","handleHoursChange","day","field","handleFaqChange","index","faq","i","addFaq","isNew","handleSave","updatedBusiness","stringify","put","trim","post","res","_error$response2","_error$response2$data","String","removeFaq","toDelete","delete","_error$response3","_error$response3$data","days","style","boxShadow","disabled","rows","onClick","title","includes","_c2","$RefreshReg$"],"sources":["/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/MainConfig.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Custom type guard for Axios errors\nconst isAxiosError = (error: unknown): error is axios.AxiosError => {\n  return axios.isAxiosError(error);\n};\nimport { Business, FAQ } from '../types';\nimport StorefrontIcon from '@mui/icons-material/Storefront';\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\n\nconst businessTypes = [\n  { value: '', label: 'Seleccionar' },\n  { value: 'tienda_online', label: 'Tienda Online (E-commerce): Para ventas de productos físicos o digitales.' },\n  { value: 'moda', label: 'Moda y Ropa: Tiendas de ropa, calzado o accesorios.' },\n  { value: 'restaurante', label: 'Restaurante o Cafetería: Negocios de comida y bebida.' },\n  { value: 'agencia_viajes', label: 'Agencia de Viajes: Para reservas de vuelos, hoteles o paquetes turísticos.' },\n  { value: 'hotel', label: 'Hotel o Hospedaje: Hoteles, hostales o Airbnb.' },\n  { value: 'consultorio_medico', label: 'Consultorio Médico: Clínicas, médicos o especialistas.' },\n  { value: 'veterinaria', label: 'Veterinaria: Servicios para mascotas.' },\n  { value: 'gimnasio', label: 'Gimnasio o Centro de Fitness: Para clases, membresías o entrenamientos.' },\n  { value: 'salon_belleza', label: 'Salón de Belleza o Spa: Citas para cortes de pelo, manicuras, masajes, etc.' },\n  { value: 'inmobiliaria', label: 'Inmobiliaria: Venta o alquiler de propiedades.' },\n  { value: 'educacion', label: 'Educación: Escuelas, cursos online o talleres.' },\n  { value: 'concesionario', label: 'Concesionario de Autos: Venta de autos, pruebas de manejo o mantenimiento.' },\n  { value: 'electronica', label: 'Tienda de Electrónica: Venta de dispositivos tecnológicos.' },\n  { value: 'eventos', label: 'Eventos y Entretenimiento: Organizadores de eventos, bodas o venta de entradas.' },\n  { value: 'profesionales', label: 'Servicios Profesionales: Abogados, contadores o consultores.' },\n  { value: 'personalizado', label: 'Personalizado' },\n];\n\n// Para FAQs\ntype FaqWithId = {\n  id?: number;\n  question: string;\n  answer: string;\n  isNew?: boolean;\n};\n\n// Componente para input con label e icono\nconst LabeledInput: React.FC<{\n  label: string;\n  icon: React.ReactNode;\n  name: string;\n  value: string;\n  placeholder?: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}> = ({ label, icon, name, value, placeholder, onChange }) => (\n  <div className=\"flex flex-col gap-1\">\n    <label htmlFor={name} className=\"flex items-center gap-1 text-gray-700 font-semibold font-poppins\">\n      {icon}\n      <span>{label}</span>\n    </label>\n    <input\n      id={name}\n      name={name}\n      value={value}\n      placeholder={placeholder}\n      onChange={onChange}\n      className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n    />\n  </div>\n);\n\nconst MainConfig: React.FC<{ negocioId: number }> = ({ negocioId }) => {\n  const [business, setBusiness] = useState<Business | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [context, setContext] = useState<string>('');\n  const [faqs, setFaqs] = useState<FaqWithId[]>([]);\n  const [message, setMessage] = useState<string>('');\n  const [customType, setCustomType] = useState<string>('');\n\n  useEffect(() => {\n    setError(null);\n    console.log('Cargando negocio con ID:', negocioId); // Log para depurar\n    axios.get(`http://localhost:3000/api/negocio/${negocioId}`)\n      .then(response => {\n        const data = response.data as {\n          id: number;\n          nombre: string;\n          tipo_negocio: string;\n          localidad: string;\n          direccion: string;\n          horarios?: string;\n          estado_bot: boolean;\n          contexto?: string;\n        };\n        const defaultHours = {\n          Lunes: { open: '09:00', close: '18:00' },\n          Martes: { open: '09:00', close: '18:00' },\n          Miércoles: { open: '09:00', close: '18:00' },\n          Jueves: { open: '09:00', close: '18:00' },\n          Viernes: { open: '09:00', close: '18:00' },\n          Sábado: { open: '09:00', close: '18:00' },\n          Domingo: { open: '09:00', close: '18:00' },\n        };\n        console.log('Datos del negocio cargados:', data); // Log para depurar\n        setBusiness({\n          id: data.id,\n          name: data.nombre,\n          type: data.tipo_negocio,\n          location: data.localidad,\n          address: data.direccion,\n          hours: data.horarios ? JSON.parse(data.horarios) : defaultHours,\n          isActive: data.estado_bot,\n        });\n        setContext(data.contexto || '');\n        setCustomType(businessTypes.find(bt => bt.value === data.tipo_negocio) ? '' : data.tipo_negocio);\n      })\n      .catch(error => {\n        console.error('Error fetching business data:', error);\n        if (error.response?.status === 404) {\n          setError('Negocio no encontrado');\n        } else {\n          setError('Error al cargar la configuración');\n        }\n        setBusiness(null); // Asegurarse de que business sea null si hay error\n      });\n\n    axios.get(`http://localhost:3000/api/faqs/${negocioId}`)\n      .then(response => {\n        const mapped = (response.data as { id: number; pregunta: string; respuesta: string }[]).map((f) => ({\n          id: f.id,\n          question: f.pregunta,\n          answer: f.respuesta,\n        }));\n        setFaqs(mapped);\n      })\n      .catch(error => {\n        console.error('Error fetching FAQs:', error);\n        setFaqs([]);\n      });\n  }, [negocioId]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (business) setBusiness({ ...business, [name]: value });\n  };\n\n  const handleTypeChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const value = e.target.value;\n    if (business) {\n      if (value === 'personalizado') {\n        setCustomType('');\n        setBusiness({ ...business, type: 'personalizado' });\n      } else {\n        setCustomType('');\n        setBusiness({ ...business, type: value });\n      }\n    }\n  };\n\n  const handleCustomTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setCustomType(value);\n    if (business) setBusiness({ ...business, type: value });\n  };\n\n  const handleHoursChange = (day: string, field: 'open' | 'close', value: string) => {\n    if (business) {\n      setBusiness({\n        ...business,\n        hours: {\n          ...business.hours,\n          [day]: {\n            ...business.hours[day],\n            [field]: value,\n          },\n        },\n      });\n    }\n  };\n\n  // --- FAQ CRUD ---\n  const handleFaqChange = (index: number, field: 'question' | 'answer', value: string) => {\n    setFaqs(f => f.map((faq, i) => i === index ? { ...faq, [field]: value } : faq));\n  };\n\n  const addFaq = () => {\n    setFaqs([...faqs, { question: '', answer: '', isNew: true }]);\n  };\n\n  const handleSave = async () => {\n    if (!business) return;\n    try {\n      // Guarda config de negocio\n      const updatedBusiness = {\n        nombre: business.name,\n        tipo_negocio: business.type,\n        localidad: business.location,\n        direccion: business.address,\n        horarios: JSON.stringify(business.hours),\n        contexto: context,\n      };\n      await axios.put(`http://localhost:3000/api/negocio/${negocioId}`, updatedBusiness);\n  \n      // CRUD FAQs\n      for (const faq of faqs) {\n        // Validar que la FAQ tenga pregunta y respuesta no vacías\n        if (!faq.question.trim() || !faq.answer.trim()) {\n          setMessage(`Error: La FAQ \"${faq.question || 'sin pregunta'}\" tiene campos vacíos. Por favor, completa ambos campos.`);\n          return;\n        }\n  \n        if (!faq.id) {\n          // Crear nueva FAQ\n          const response = await axios.post('http://localhost:3000/api/faqs', {\n            negocioId,\n            pregunta: faq.question.trim(),\n            respuesta: faq.answer.trim(),\n          });\n          // Actualizar el ID de la FAQ recién creada\n          faq.id = response.data.id;\n        } else {\n          // Actualizar FAQ existente\n          await axios.put(`http://localhost:3000/api/faqs/${faq.id}`, {\n            pregunta: faq.question.trim(),\n            respuesta: faq.answer.trim(),\n          });\n        }\n      }\n  \n      // Actualiza la lista de FAQs desde el backend\n      const res = await axios.get<{ id: number; pregunta: string; respuesta: string }[]>(`http://localhost:3000/api/faqs/${negocioId}`);\n      setFaqs(res.data.map((f) => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta,\n      })));\n  \n      setMessage('Configuración guardada con éxito');\n    } catch (error) {\n      console.error('Error saving configuration:', error);\n      if (isAxiosError(error)) {\n        setMessage(`Error al guardar la configuración: ${error.response?.data?.error || error.message}`);\n      } else {\n        setMessage(`Error al guardar la configuración: ${String(error)}`);\n      }\n    }\n  };\n  \n  const removeFaq = async (index: number) => {\n    const toDelete = faqs[index];\n    try {\n      if (toDelete.id) {\n        // Eliminar FAQ del backend\n        await axios.delete(`http://localhost:3000/api/faqs/${toDelete.id}`);\n      }\n      // Actualizar la lista de FAQs desde el backend\n      const res = await axios.get<{ id: number; pregunta: string; respuesta: string }[]>(`http://localhost:3000/api/faqs/${negocioId}`);\n      setFaqs(res.data.map((f) => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta,\n      })));\n      setMessage('FAQ eliminada con éxito');\n    } catch (error) {\n      console.error('Error al eliminar FAQ:', error);\n      setMessage(`Error al eliminar FAQ: ${error.response?.data?.error || error.message}`);\n    }\n  };\n\n  const days = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\n\n  if (!business) return <div className=\"text-gray-500 font-poppins\">Cargando datos del negocio...</div>;\n\n  return (\n    <div\n      className=\"bg-white rounded-lg p-6 max-w-[1000px] mx-auto\"\n      style={{ boxShadow: '0 0 7px 7px rgba(0,0,0,0.2)' }}\n    >\n      <h2 className=\"text-2xl font-bold text-black mb-6 font-poppins\">Información de Negocio</h2>\n\n      <div className=\"space-y-5\">\n        {/* Nombre con label + icono */}\n        <LabeledInput\n          label=\"Nombre del Negocio\"\n          icon={<StorefrontIcon className=\"text-primary-blue\" />}\n          name=\"name\"\n          value={business.name}\n          placeholder=\"La Pizzería Italiana\"\n          onChange={handleInputChange}\n        />\n\n        {/* Select Tipo de Negocio con todas las opciones */}\n        <div className=\"flex flex-col gap-1\">\n          <label htmlFor=\"type\" className=\"text-gray-700 font-semibold font-poppins\">\n            Tipo de Negocio\n          </label>\n          <select\n            id=\"type\"\n            value={businessTypes.find(bt => bt.value === business.type) ? business.type : 'personalizado'}\n            onChange={handleTypeChange}\n            className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n          >\n            {businessTypes.map(({ value, label }) => (\n              <option key={value} value={value} disabled={value === ''}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Input para personalizar tipo, sólo aparece si se escoge personalizado o valor no está en opciones */}\n        {(business.type === 'personalizado' || !businessTypes.find(bt => bt.value === business.type)) && (\n          <div className=\"flex flex-col gap-1 mt-2\">\n            <label htmlFor=\"customType\" className=\"text-gray-700 font-semibold font-poppins\">\n              Especifique el Tipo de Negocio\n            </label>\n            <input\n              id=\"customType\"\n              type=\"text\"\n              value={customType}\n              placeholder=\"Ingrese el tipo de negocio manualmente\"\n              onChange={handleCustomTypeChange}\n              className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n            />\n          </div>\n        )}\n\n        {/* Localidad con label + icono */}\n        <LabeledInput\n          label=\"Localidad\"\n          icon={<LocationOnIcon className=\"text-primary-blue\" />}\n          name=\"location\"\n          value={business.location}\n          placeholder=\"Buenos Aires\"\n          onChange={handleInputChange}\n        />\n\n        {/* Dirección con label + icono */}\n        <LabeledInput\n          label=\"Dirección\"\n          icon={<LocationOnIcon className=\"text-primary-blue\" />}\n          name=\"address\"\n          value={business.address}\n          placeholder=\"Av. Corrientes 123\"\n          onChange={handleInputChange}\n        />\n\n        {/* Horarios de Atención */}\n        <div className=\"border border-gray-300 rounded-lg\">\n          <div className=\"flex items-center justify-between p-3 bg-gray-100 rounded-t-lg\">\n            <div className=\"flex items-center gap-2 font-poppins font-semibold text-gray-700\">\n              <AccessTimeIcon />\n              <span>Horarios de Atención</span>\n            </div>\n          </div>\n          <div className=\"p-4 grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {days.map((day) => (\n              <div key={day} className=\"flex items-center gap-4\">\n                <span className=\"w-24 font-poppins text-gray-700\">{day}</span>\n                <input\n                  type=\"time\"\n                  value={business.hours[day].open}\n                  onChange={(e) => handleHoursChange(day, 'open', e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue\"\n                />\n                <input\n                  type=\"time\"\n                  value={business.hours[day].close}\n                  onChange={(e) => handleHoursChange(day, 'close', e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue\"\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Textarea sugerencias extra */}\n        <div className=\"flex flex-col gap-1\">\n            <label htmlFor=\"context\" className=\"flex items-center gap-2 text-gray-700 font-semibold font-poppins\">\n                <ChatBubbleOutlineIcon className=\"text-primary-blue\" />\n                Sugerencias/Aclaraciones para el Bot (Opcional)\n            </label>\n            <textarea\n                id=\"context\"\n                value={context}\n                onChange={(e) => setContext(e.target.value)}\n                placeholder=\"Dale alguna sugerencia o aclaración extra al bot (opcional)...\"\n                className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n                rows={4}\n            />\n        </div>\n\n        {/* FAQs */}\n        <h3 className=\"text-xl font-bold text-black mb-4 font-poppins\">Preguntas Frecuentes (FAQs)</h3>\n            {faqs.map((faq, index) => (\n            <div key={index} className=\"flex flex-col md:flex-row gap-3 mb-4 items-center\">\n                <input\n                    type=\"text\"\n                    value={faq.question}\n                    onChange={(e) => handleFaqChange(index, 'question', e.target.value)}\n                    placeholder=\"Pregunta\"\n                    className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n                />\n                <input\n                    type=\"text\"\n                    value={faq.answer}\n                    onChange={(e) => handleFaqChange(index, 'answer', e.target.value)}\n                    placeholder=\"Respuesta\"\n                    className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n                />\n                <button\n                    onClick={() => removeFaq(index)}\n                    aria-label=\"Eliminar pregunta frecuente\"\n                    title=\"Eliminar FAQ\"\n                    className=\"text-primary-red hover:text-secondary-red p-2 rounded focus:outline-none\"\n                >\n                <DeleteIcon />\n                </button>\n            </div>\n        ))}\n\n        {/* Botones */}\n        <div className=\"flex justify-between mt-4\">\n            <button\n                onClick={addFaq}\n                className=\"bg-primary-blue text-white px-4 py-2 rounded-lg hover:bg-[#153E6F] font-poppins\"\n            >\n                AÑADIR FAQ\n            </button>\n            <button\n                onClick={handleSave}\n                className=\"bg-primary-green text-white px-4 py-2 rounded-lg hover:bg-secondary-green font-poppins\"\n            >\n                GUARDAR CAMBIOS\n            </button>\n        </div>\n\n        {/* Mensaje */}\n        {message && (\n            <p className={`mt-4 font-poppins ${message.includes('Error') ? 'text-red-500' : 'text-green-500'}`}>\n                {message}\n            </p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MainConfig;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}