{"ast":null,"code":"// OrdersPage.tsx\nimport React,{useState,useEffect}from'react';import{Box}from'@mui/material';import Header from'../components/Header';import Sidebar from'../components/Sidebar';import Orders from'../components/Orders';import PedidosStatus from'../components/PedidosStatus';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrdersPage=()=>{const[negocioId,setNegocioId]=useState(null);const[moduloPedidos,setModuloPedidos]=useState(false);// Cuando cambia el negocio, busca el estado real\nuseEffect(()=>{if(negocioId!==null){axios.get(`/api/negocio/${negocioId}`).then(res=>setModuloPedidos(!!res.data.modulo_pedidos)).catch(()=>setModuloPedidos(false));}},[negocioId]);const handleNegocioChange=nuevoId=>{setNegocioId(nuevoId);};const handleTogglePedidos=nuevoEstado=>{if(negocioId==null)return;axios.post('/api/actualizar-modulo-pedidos',{negocioId,moduloPedidos:nuevoEstado}).then(()=>setModuloPedidos(nuevoEstado));};return/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:'#2563EB',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Header,{onNegocioChange:handleNegocioChange}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{selected:\"orders\"}),/*#__PURE__*/_jsxs(Box,{flexGrow:1,sx:{padding:3},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"start\",mb:4,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-poppins font-bold text-white mt-2\",children:\"Configuraci\\xF3n de Pedidos\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',justifyContent:'flex-end',maxWidth:'480px'},children:/*#__PURE__*/_jsx(PedidosStatus,{active:moduloPedidos,onToggle:handleTogglePedidos})})]}),/*#__PURE__*/_jsx(Orders,{})]})]})]});};export default OrdersPage;","map":{"version":3,"names":["React","useState","useEffect","Box","Header","Sidebar","Orders","PedidosStatus","axios","jsx","_jsx","jsxs","_jsxs","OrdersPage","negocioId","setNegocioId","moduloPedidos","setModuloPedidos","get","then","res","data","modulo_pedidos","catch","handleNegocioChange","nuevoId","handleTogglePedidos","nuevoEstado","post","sx","backgroundColor","minHeight","children","onNegocioChange","display","selected","flexGrow","padding","justifyContent","alignItems","mb","className","style","flex","maxWidth","active","onToggle"],"sources":["/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/pages/OrdersPage.tsx"],"sourcesContent":["// OrdersPage.tsx\nimport React, { useState, useEffect } from 'react';\nimport { Box } from '@mui/material';\nimport Header from '../components/Header';\nimport Sidebar from '../components/Sidebar';\nimport Orders from '../components/Orders';\nimport PedidosStatus from '../components/PedidosStatus';\nimport axios from 'axios';\n\nconst OrdersPage: React.FC = () => {\n  const [negocioId, setNegocioId] = useState<number | null>(null);\n  const [moduloPedidos, setModuloPedidos] = useState<boolean>(false);\n\n  // Cuando cambia el negocio, busca el estado real\n  useEffect(() => {\n    if (negocioId !== null) {\n      axios\n        .get<{ modulo_pedidos: boolean }>(`/api/negocio/${negocioId}`)\n        .then((res) => setModuloPedidos(!!res.data.modulo_pedidos))\n        .catch(() => setModuloPedidos(false));\n    }\n  }, [negocioId]);\n\n  const handleNegocioChange = (nuevoId: number) => {\n    setNegocioId(nuevoId);\n  };\n\n  const handleTogglePedidos = (nuevoEstado: boolean) => {\n    if (negocioId == null) return;\n    axios\n      .post('/api/actualizar-modulo-pedidos', { negocioId, moduloPedidos: nuevoEstado })\n      .then(() => setModuloPedidos(nuevoEstado));\n  };\n\n  return (\n    <Box sx={{ backgroundColor: '#2563EB', minHeight: '100vh' }}>\n      <Header onNegocioChange={handleNegocioChange} />\n      <Box display=\"flex\">\n        <Sidebar selected=\"orders\" />\n        <Box flexGrow={1} sx={{ padding: 3 }}>\n          {/* Título + PedidosStatus */}\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"start\" mb={4}>\n            <h2 className=\"text-2xl font-poppins font-bold text-white mt-2\">\n              Configuración de Pedidos\n            </h2>\n            <div style={{ flex: 1, display: 'flex', justifyContent: 'flex-end', maxWidth: '480px' }}>\n              <PedidosStatus\n                active={moduloPedidos}\n                onToggle={handleTogglePedidos}\n              />\n            </div>\n          </Box>\n          <Orders />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default OrdersPage;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAQ,eAAe,CACnC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAgB,IAAI,CAAC,CAC/D,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAU,KAAK,CAAC,CAElE;AACAC,SAAS,CAAC,IAAM,CACd,GAAIY,SAAS,GAAK,IAAI,CAAE,CACtBN,KAAK,CACFU,GAAG,CAA8B,gBAAgBJ,SAAS,EAAE,CAAC,CAC7DK,IAAI,CAAEC,GAAG,EAAKH,gBAAgB,CAAC,CAAC,CAACG,GAAG,CAACC,IAAI,CAACC,cAAc,CAAC,CAAC,CAC1DC,KAAK,CAAC,IAAMN,gBAAgB,CAAC,KAAK,CAAC,CAAC,CACzC,CACF,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAU,mBAAmB,CAAIC,OAAe,EAAK,CAC/CV,YAAY,CAACU,OAAO,CAAC,CACvB,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAIC,WAAoB,EAAK,CACpD,GAAIb,SAAS,EAAI,IAAI,CAAE,OACvBN,KAAK,CACFoB,IAAI,CAAC,gCAAgC,CAAE,CAAEd,SAAS,CAAEE,aAAa,CAAEW,WAAY,CAAC,CAAC,CACjFR,IAAI,CAAC,IAAMF,gBAAgB,CAACU,WAAW,CAAC,CAAC,CAC9C,CAAC,CAED,mBACEf,KAAA,CAACT,GAAG,EAAC0B,EAAE,CAAE,CAAEC,eAAe,CAAE,SAAS,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAAC,QAAA,eAC1DtB,IAAA,CAACN,MAAM,EAAC6B,eAAe,CAAET,mBAAoB,CAAE,CAAC,cAChDZ,KAAA,CAACT,GAAG,EAAC+B,OAAO,CAAC,MAAM,CAAAF,QAAA,eACjBtB,IAAA,CAACL,OAAO,EAAC8B,QAAQ,CAAC,QAAQ,CAAE,CAAC,cAC7BvB,KAAA,CAACT,GAAG,EAACiC,QAAQ,CAAE,CAAE,CAACP,EAAE,CAAE,CAAEQ,OAAO,CAAE,CAAE,CAAE,CAAAL,QAAA,eAEnCpB,KAAA,CAACT,GAAG,EAAC+B,OAAO,CAAC,MAAM,CAACI,cAAc,CAAC,eAAe,CAACC,UAAU,CAAC,OAAO,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,eAC1EtB,IAAA,OAAI+B,SAAS,CAAC,iDAAiD,CAAAT,QAAA,CAAC,6BAEhE,CAAI,CAAC,cACLtB,IAAA,QAAKgC,KAAK,CAAE,CAAEC,IAAI,CAAE,CAAC,CAAET,OAAO,CAAE,MAAM,CAAEI,cAAc,CAAE,UAAU,CAAEM,QAAQ,CAAE,OAAQ,CAAE,CAAAZ,QAAA,cACtFtB,IAAA,CAACH,aAAa,EACZsC,MAAM,CAAE7B,aAAc,CACtB8B,QAAQ,CAAEpB,mBAAoB,CAC/B,CAAC,CACC,CAAC,EACH,CAAC,cACNhB,IAAA,CAACJ,MAAM,GAAE,CAAC,EACP,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAO,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}