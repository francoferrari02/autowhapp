{"ast":null,"code":"var _jsxFileName = \"/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/Products.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, Typography, Button, TextField, Table, TableBody, TableCell, TableHead, TableRow, Box, InputAdornment } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Products = ({\n  negocioId\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    description: '',\n    price: '',\n    image: ''\n  });\n  const [editProduct, setEditProduct] = useState(null);\n  const [editId, setEditId] = useState(null);\n  const [files, setFiles] = useState([]);\n  const [message, setMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Cargar productos al montar el componente\n  useEffect(() => {\n    axios.get(`http://localhost:3000/api/productos/${negocioId}`).then(response => {\n      const fetchedProducts = response.data.map(p => ({\n        id: p.id,\n        name: p.nombre,\n        description: p.descripcion || '',\n        price: p.precio.toString(),\n        image: p.foto || ''\n      }));\n      setProducts(fetchedProducts);\n    }).catch(error => {\n      console.error('Error al cargar productos:', error);\n      setMessage('Error al cargar los productos');\n      setProducts([]);\n    });\n  }, [negocioId]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (editProduct) {\n      setEditProduct({\n        ...editProduct,\n        [name]: value\n      });\n    } else {\n      setNewProduct({\n        ...newProduct,\n        [name]: value\n      });\n    }\n  };\n  const handleFileChange = e => {\n    if (e.target.files) {\n      const selectedFiles = Array.from(e.target.files);\n      setFiles(selectedFiles);\n      if (editProduct) {\n        var _selectedFiles$;\n        setEditProduct({\n          ...editProduct,\n          image: ((_selectedFiles$ = selectedFiles[0]) === null || _selectedFiles$ === void 0 ? void 0 : _selectedFiles$.name) || ''\n        });\n      } else {\n        var _selectedFiles$2;\n        setNewProduct({\n          ...newProduct,\n          image: ((_selectedFiles$2 = selectedFiles[0]) === null || _selectedFiles$2 === void 0 ? void 0 : _selectedFiles$2.name) || ''\n        });\n      }\n    }\n  };\n  const addProduct = async () => {\n    if (!newProduct.name || !newProduct.price) {\n      setMessage('Por favor, completa los campos obligatorios');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:3000/api/productos', {\n        negocio_id: negocioId,\n        nombre: newProduct.name,\n        descripcion: newProduct.description || '',\n        precio: parseFloat(newProduct.price),\n        foto: newProduct.image || null\n      });\n      const responseData = response.data;\n      if (responseData.success) {\n        // Volver a cargar los productos desde el backend\n        const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n        const updatedProducts = updatedResponse.data.map(p => ({\n          id: p.id,\n          name: p.nombre,\n          description: p.descripcion || '',\n          price: p.precio.toString(),\n          image: p.foto || ''\n        }));\n        setProducts(updatedProducts);\n        setNewProduct({\n          name: '',\n          description: '',\n          price: '',\n          image: ''\n        });\n        setFiles([]);\n        setMessage('Producto agregado con éxito');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al agregar producto:', error);\n      setMessage(`Error al agregar producto: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message}`);\n    }\n  };\n  const startEditing = product => {\n    setEditId(product.id || null);\n    setEditProduct({\n      ...product\n    });\n    setFiles([]);\n  };\n  const saveEdit = async () => {\n    if (!editProduct || !editProduct.name || !editProduct.price || !editId) {\n      setMessage('Por favor, completa los campos obligatorios');\n      return;\n    }\n    try {\n      await axios.put(`http://localhost:3000/api/productos/${editId}`, {\n        nombre: editProduct.name,\n        descripcion: editProduct.description || '',\n        precio: parseFloat(editProduct.price),\n        foto: editProduct.image || null\n      });\n\n      // Volver a cargar los productos desde el backend\n      const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n      const updatedProducts = updatedResponse.data.map(p => ({\n        id: p.id,\n        name: p.nombre,\n        description: p.descripcion || '',\n        price: p.precio.toString(),\n        image: p.foto || ''\n      }));\n      setProducts(updatedProducts);\n      setEditProduct(null);\n      setEditId(null);\n      setFiles([]);\n      setMessage('Producto actualizado con éxito');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error al actualizar producto:', error);\n      setMessage(`Error al actualizar producto: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message}`);\n    }\n  };\n  const cancelEdit = () => {\n    setEditProduct(null);\n    setEditId(null);\n    setFiles([]);\n  };\n  const deleteProduct = async id => {\n    try {\n      await axios.delete(`http://localhost:3000/api/productos/${id}`);\n\n      // Volver a cargar los productos desde el backend\n      const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n      const updatedProducts = updatedResponse.data.map(p => ({\n        id: p.id,\n        name: p.nombre,\n        description: p.descripcion || '',\n        price: p.precio.toString(),\n        image: p.foto || ''\n      }));\n      setProducts(updatedProducts);\n      setMessage('Producto eliminado con éxito');\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error al eliminar producto:', error);\n      setMessage(`Error al eliminar producto: ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message}`);\n    }\n  };\n\n  // Filtrado según searchTerm, ignorando mayúsculas/minúsculas\n  const filteredProducts = useMemo(() => {\n    if (!searchTerm.trim()) return products;\n    return products.filter(p => p.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }, [searchTerm, products]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center mt-6 mb-12\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        maxWidth: 1000,\n        width: '100%',\n        boxShadow: '0 0 7px 7px rgba(0,0,0,0.2)',\n        borderRadius: '12px',\n        backgroundColor: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          paddingBottom: '24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 4,\n            px: 2,\n            py: 3,\n            backgroundColor: '#f5f7fa',\n            borderRadius: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              fontFamily: 'Poppins',\n              fontWeight: 'bold',\n              mb: 3\n            },\n            children: \"Agregar Producto/Servicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Nombre del Producto/Servicio\",\n            name: \"name\",\n            value: editProduct ? editProduct.name : newProduct.name,\n            onChange: handleInputChange,\n            placeholder: \"Corte de pelo\",\n            variant: \"outlined\",\n            sx: {\n              mb: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Descripci\\xF3n\",\n            name: \"description\",\n            value: editProduct ? editProduct.description : newProduct.description,\n            onChange: handleInputChange,\n            placeholder: \"Corte cl\\xE1sico para caballeros\",\n            variant: \"outlined\",\n            sx: {\n              mb: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Precio\",\n            name: \"price\",\n            value: editProduct ? editProduct.price : newProduct.price,\n            onChange: handleInputChange,\n            placeholder: \"$2000\",\n            variant: \"outlined\",\n            sx: {\n              mb: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            component: \"label\",\n            startIcon: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 26\n            }, this),\n            sx: {\n              backgroundColor: '#E5E7EB',\n              color: '#111827',\n              mb: 3,\n              '&:hover': {\n                backgroundColor: '#93C5FD'\n              },\n              textTransform: 'none',\n              fontWeight: '600',\n              borderRadius: '8px',\n              width: 'fit-content'\n            },\n            children: [\"Adjuntar Imagen\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              hidden: true,\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              marginBottom: 24\n            },\n            children: files.map((file, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: file.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 28\n              }, this),\n              sx: {\n                backgroundColor: '#34C759',\n                borderRadius: '8px',\n                '&:hover': {\n                  backgroundColor: '#2EA44F'\n                },\n                color: 'white',\n                fontWeight: '600',\n                textTransform: 'none',\n                flexGrow: 1\n              },\n              onClick: editProduct ? saveEdit : addProduct,\n              children: editProduct ? 'Guardar Cambios' : 'Agregar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), editProduct && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 30\n              }, this),\n              sx: {\n                backgroundColor: '#EF4444',\n                borderRadius: '8px',\n                '&:hover': {\n                  backgroundColor: '#DC2626'\n                },\n                color: 'white',\n                fontWeight: '600',\n                textTransform: 'none',\n                width: '140px'\n              },\n              onClick: cancelEdit,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: 2,\n            py: 3,\n            borderTop: '2px solid #e0e0e0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              fontFamily: 'Poppins',\n              fontWeight: 'bold',\n              mb: 2\n            },\n            children: \"Lista de Productos/Servicios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"Buscar por nombre...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            variant: \"outlined\",\n            size: \"small\",\n            fullWidth: true,\n            sx: {\n              mb: 2\n            },\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            sx: {\n              minWidth: 650\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: \"Nombre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: \"Descripci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: \"Precio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: \"Imagen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: [filteredProducts.map(product => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.description || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: product.image || 'Sin imagen'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 36\n                    }, this),\n                    sx: {\n                      color: '#1E3A8A',\n                      mr: 1\n                    },\n                    onClick: () => startEditing(product),\n                    \"aria-label\": `Editar ${product.name}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 36\n                    }, this),\n                    sx: {\n                      color: '#EF4444'\n                    },\n                    onClick: () => product.id && deleteProduct(product.id),\n                    \"aria-label\": `Eliminar ${product.name}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, product.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: 5,\n                  align: \"center\",\n                  sx: {\n                    fontStyle: 'italic',\n                    color: 'gray'\n                  },\n                  children: \"No se encontraron productos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: message.includes('Error') ? 'red' : 'green',\n            mt: 3\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"cDa4kWf1ts9gpyl+gK6z357pdNo=\");\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","axios","Card","CardContent","Typography","Button","TextField","Table","TableBody","TableCell","TableHead","TableRow","Box","InputAdornment","AddIcon","AttachFileIcon","EditIcon","DeleteIcon","CancelIcon","SearchIcon","jsxDEV","_jsxDEV","Products","negocioId","_s","products","setProducts","newProduct","setNewProduct","name","description","price","image","editProduct","setEditProduct","editId","setEditId","files","setFiles","message","setMessage","searchTerm","setSearchTerm","get","then","response","fetchedProducts","data","map","p","id","nombre","descripcion","precio","toString","foto","catch","error","console","handleInputChange","e","value","target","handleFileChange","selectedFiles","Array","from","_selectedFiles$","_selectedFiles$2","addProduct","post","negocio_id","parseFloat","responseData","success","updatedResponse","updatedProducts","_error$response","_error$response$data","startEditing","product","saveEdit","put","_error$response2","_error$response2$data","cancelEdit","deleteProduct","delete","_error$response3","_error$response3$data","filteredProducts","trim","filter","toLowerCase","includes","className","children","sx","maxWidth","width","boxShadow","borderRadius","backgroundColor","paddingBottom","mb","px","py","variant","fontFamily","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","label","onChange","placeholder","component","startIcon","color","textTransform","type","hidden","length","style","marginBottom","file","index","display","gap","flexGrow","onClick","borderTop","size","InputProps","startAdornment","position","minWidth","mr","colSpan","align","fontStyle","mt","_c","$RefreshReg$"],"sources":["/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/Products.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, Typography, Button, TextField, Table, TableBody, TableCell, TableHead, TableRow, Box, InputAdornment } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { Product } from '../types';\n\ninterface ProductsProps {\n  negocioId: number;\n}\n\nconst Products: React.FC<ProductsProps> = ({ negocioId }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [newProduct, setNewProduct] = useState<Product>({ name: '', description: '', price: '', image: '' });\n  const [editProduct, setEditProduct] = useState<Product | null>(null);\n  const [editId, setEditId] = useState<number | null>(null);\n  const [files, setFiles] = useState<File[]>([]);\n  const [message, setMessage] = useState<string>('');\n  const [searchTerm, setSearchTerm] = useState<string>('');\n\n  // Cargar productos al montar el componente\n  useEffect(() => {\n    axios.get(`http://localhost:3000/api/productos/${negocioId}`)\n      .then(response => {\n        const fetchedProducts = (response.data as any[]).map((p: any) => ({\n          id: p.id,\n          name: p.nombre,\n          description: p.descripcion || '',\n          price: p.precio.toString(),\n          image: p.foto || '',\n        }));\n        setProducts(fetchedProducts);\n      })\n      .catch(error => {\n        console.error('Error al cargar productos:', error);\n        setMessage('Error al cargar los productos');\n        setProducts([]);\n      });\n  }, [negocioId]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (editProduct) {\n      setEditProduct({ ...editProduct, [name]: value });\n    } else {\n      setNewProduct({ ...newProduct, [name]: value });\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      const selectedFiles = Array.from(e.target.files);\n      setFiles(selectedFiles);\n      if (editProduct) {\n        setEditProduct({ ...editProduct, image: selectedFiles[0]?.name || '' });\n      } else {\n        setNewProduct({ ...newProduct, image: selectedFiles[0]?.name || '' });\n      }\n    }\n  };\n\n  const addProduct = async () => {\n    if (!newProduct.name || !newProduct.price) {\n      setMessage('Por favor, completa los campos obligatorios');\n      return;\n    }\n\n    try {\n      const response = await axios.post('http://localhost:3000/api/productos', {\n        negocio_id: negocioId,\n        nombre: newProduct.name,\n        descripcion: newProduct.description || '',\n        precio: parseFloat(newProduct.price),\n        foto: newProduct.image || null,\n      });\n\n      const responseData = response.data as { success: boolean };\n      if (responseData.success) {\n        // Volver a cargar los productos desde el backend\n        const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n        const updatedProducts = (updatedResponse.data as any[]).map((p: any) => ({\n          id: p.id,\n          name: p.nombre,\n          description: p.descripcion || '',\n          price: p.precio.toString(),\n          image: p.foto || '',\n        }));\n        setProducts(updatedProducts);\n        setNewProduct({ name: '', description: '', price: '', image: '' });\n        setFiles([]);\n        setMessage('Producto agregado con éxito');\n      }\n    } catch (error: any) {\n      console.error('Error al agregar producto:', error);\n      setMessage(`Error al agregar producto: ${error.response?.data?.error || error.message}`);\n    }\n  };\n\n  const startEditing = (product: Product) => {\n    setEditId(product.id || null);\n    setEditProduct({ ...product });\n    setFiles([]);\n  };\n\n  const saveEdit = async () => {\n    if (!editProduct || !editProduct.name || !editProduct.price || !editId) {\n      setMessage('Por favor, completa los campos obligatorios');\n      return;\n    }\n\n    try {\n      await axios.put(`http://localhost:3000/api/productos/${editId}`, {\n        nombre: editProduct.name,\n        descripcion: editProduct.description || '',\n        precio: parseFloat(editProduct.price),\n        foto: editProduct.image || null,\n      });\n\n      // Volver a cargar los productos desde el backend\n      const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n      const updatedProducts = (updatedResponse.data as any[]).map((p: any) => ({\n        id: p.id,\n        name: p.nombre,\n        description: p.descripcion || '',\n        price: p.precio.toString(),\n        image: p.foto || '',\n      }));\n      setProducts(updatedProducts);\n      setEditProduct(null);\n      setEditId(null);\n      setFiles([]);\n      setMessage('Producto actualizado con éxito');\n    } catch (error: any) {\n      console.error('Error al actualizar producto:', error);\n      setMessage(`Error al actualizar producto: ${error.response?.data?.error || error.message}`);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditProduct(null);\n    setEditId(null);\n    setFiles([]);\n  };\n\n  const deleteProduct = async (id: number) => {\n    try {\n      await axios.delete(`http://localhost:3000/api/productos/${id}`);\n\n      // Volver a cargar los productos desde el backend\n      const updatedResponse = await axios.get(`http://localhost:3000/api/productos/${negocioId}`);\n      const updatedProducts = (updatedResponse.data as any[]).map((p: any) => ({\n        id: p.id,\n        name: p.nombre,\n        description: p.descripcion || '',\n        price: p.precio.toString(),\n        image: p.foto || '',\n      }));\n      setProducts(updatedProducts);\n      setMessage('Producto eliminado con éxito');\n    } catch (error: any) {\n      console.error('Error al eliminar producto:', error);\n      setMessage(`Error al eliminar producto: ${error.response?.data?.error || error.message}`);\n    }\n  };\n\n  // Filtrado según searchTerm, ignorando mayúsculas/minúsculas\n  const filteredProducts = useMemo(() => {\n    if (!searchTerm.trim()) return products;\n    return products.filter(p =>\n      p.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [searchTerm, products]);\n\n  return (\n    <div className=\"flex justify-center mt-6 mb-12\">\n      <Card \n        sx={{\n          maxWidth: 1000,\n          width: '100%',\n          boxShadow: '0 0 7px 7px rgba(0,0,0,0.2)',\n          borderRadius: '12px',\n          backgroundColor: 'white',\n        }}\n      >\n        <CardContent sx={{ paddingBottom: '24px' }}>\n          {/* Sección agregar producto */}\n          <Box sx={{ mb: 4, px: 2, py: 3, backgroundColor: '#f5f7fa', borderRadius: '8px' }}>\n            <Typography variant=\"h6\" sx={{ fontFamily: 'Poppins', fontWeight: 'bold', mb: 3 }}>\n              Agregar Producto/Servicio\n            </Typography>\n            <TextField\n              fullWidth\n              label=\"Nombre del Producto/Servicio\"\n              name=\"name\"\n              value={editProduct ? editProduct.name : newProduct.name}\n              onChange={handleInputChange}\n              placeholder=\"Corte de pelo\"\n              variant=\"outlined\"\n              sx={{ mb: 3 }}\n            />\n            <TextField\n              fullWidth\n              label=\"Descripción\"\n              name=\"description\"\n              value={editProduct ? editProduct.description : newProduct.description}\n              onChange={handleInputChange}\n              placeholder=\"Corte clásico para caballeros\"\n              variant=\"outlined\"\n              sx={{ mb: 3 }}\n            />\n            <TextField\n              fullWidth\n              label=\"Precio\"\n              name=\"price\"\n              value={editProduct ? editProduct.price : newProduct.price}\n              onChange={handleInputChange}\n              placeholder=\"$2000\"\n              variant=\"outlined\"\n              sx={{ mb: 3 }}\n            />\n            <Button\n              component=\"label\"\n              startIcon={<AttachFileIcon />}\n              sx={{ \n                backgroundColor: '#E5E7EB', \n                color: '#111827', \n                mb: 3, \n                '&:hover': { backgroundColor: '#93C5FD' },\n                textTransform: 'none',\n                fontWeight: '600',\n                borderRadius: '8px',\n                width: 'fit-content'\n              }}\n            >\n              Adjuntar Imagen\n              <input type=\"file\" hidden onChange={handleFileChange} />\n            </Button>\n            {files.length > 0 && (\n              <ul style={{ marginBottom: 24 }}>\n                {files.map((file, index) => (\n                  <li key={index}>{file.name}</li>\n                ))}\n              </ul>\n            )}\n            <div style={{ display: 'flex', gap: 8 }}>\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                sx={{ \n                  backgroundColor: '#34C759', \n                  borderRadius: '8px', \n                  '&:hover': { backgroundColor: '#2EA44F' },\n                  color: 'white',\n                  fontWeight: '600',\n                  textTransform: 'none',\n                  flexGrow: 1\n                }}\n                onClick={editProduct ? saveEdit : addProduct}\n              >\n                {editProduct ? 'Guardar Cambios' : 'Agregar'}\n              </Button>\n              {editProduct && (\n                <Button\n                  variant=\"contained\"\n                  startIcon={<CancelIcon />}\n                  sx={{ \n                    backgroundColor: '#EF4444', \n                    borderRadius: '8px', \n                    '&:hover': { backgroundColor: '#DC2626' },\n                    color: 'white',\n                    fontWeight: '600',\n                    textTransform: 'none',\n                    width: '140px'\n                  }}\n                  onClick={cancelEdit}\n                >\n                  Cancelar\n                </Button>\n              )}\n            </div>\n          </Box>\n\n          {/* Sección tabla productos */}\n          <Box sx={{ px: 2, py: 3, borderTop: '2px solid #e0e0e0' }}>\n            <Typography variant=\"h6\" sx={{ fontFamily: 'Poppins', fontWeight: 'bold', mb: 2 }}>\n              Lista de Productos/Servicios\n            </Typography>\n            <TextField\n              placeholder=\"Buscar por nombre...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              sx={{ mb: 2 }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <Table sx={{ minWidth: 650 }}>\n              <TableHead>\n                <TableRow>\n                  <TableCell sx={{ fontWeight: 'bold' }}>Nombre</TableCell>\n                  <TableCell sx={{ fontWeight: 'bold' }}>Descripción</TableCell>\n                  <TableCell sx={{ fontWeight: 'bold' }}>Precio</TableCell>\n                  <TableCell sx={{ fontWeight: 'bold' }}>Imagen</TableCell>\n                  <TableCell sx={{ fontWeight: 'bold' }}>Acciones</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {filteredProducts.map((product) => (\n                  <TableRow key={product.id}>\n                    <TableCell>{product.name}</TableCell>\n                    <TableCell>{product.description || '-'}</TableCell>\n                    <TableCell>{product.price}</TableCell>\n                    <TableCell>{product.image || 'Sin imagen'}</TableCell>\n                    <TableCell>\n                      <Button\n                        startIcon={<EditIcon />}\n                        sx={{ color: '#1E3A8A', mr: 1 }}\n                        onClick={() => startEditing(product)}\n                        aria-label={`Editar ${product.name}`}\n                      />\n                      <Button\n                        startIcon={<DeleteIcon />}\n                        sx={{ color: '#EF4444' }}\n                        onClick={() => product.id && deleteProduct(product.id)}\n                        aria-label={`Eliminar ${product.name}`}\n                      />\n                    </TableCell>\n                  </TableRow>\n                ))}\n                {filteredProducts.length === 0 && (\n                  <TableRow>\n                    <TableCell colSpan={5} align=\"center\" sx={{ fontStyle: 'italic', color: 'gray' }}>\n                      No se encontraron productos\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </Box>\n          {message && (\n            <Typography sx={{ color: message.includes('Error') ? 'red' : 'green', mt: 3 }}>\n              {message}\n            </Typography>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}