{"ast":null,"code":"import{useState,useEffect}from'react';import axios from'axios';import DeleteIcon from'@mui/icons-material/Delete';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const businessTypes=[{value:'',label:'Seleccionar'},{value:'tienda_online',label:'Tienda Online (E-commerce): Para ventas de productos físicos o digitales.'},{value:'moda',label:'Moda y Ropa: Tiendas de ropa, calzado o accesorios.'},{value:'restaurante',label:'Restaurante o Cafetería: Negocios de comida y bebida.'},{value:'agencia_viajes',label:'Agencia de Viajes: Para reservas de vuelos, hoteles o paquetes turísticos.'},{value:'hotel',label:'Hotel o Hospedaje: Hoteles, hostales o Airbnb.'},{value:'consultorio_medico',label:'Consultorio Médico: Clínicas, médicos o especialistas.'},{value:'veterinaria',label:'Veterinaria: Servicios para mascotas.'},{value:'gimnasio',label:'Gimnasio o Centro de Fitness: Para clases, membresías o entrenamientos.'},{value:'salon_belleza',label:'Salón de Belleza o Spa: Citas para cortes de pelo, manicuras, masajes, etc.'},{value:'inmobiliaria',label:'Inmobiliaria: Venta o alquiler de propiedades.'},{value:'educacion',label:'Educación: Escuelas, cursos online o talleres.'},{value:'concesionario',label:'Concesionario de Autos: Venta de autos, pruebas de manejo o mantenimiento.'},{value:'electronica',label:'Tienda de Electrónica: Venta de dispositivos tecnológicos.'},{value:'eventos',label:'Eventos y Entretenimiento: Organizadores de eventos, bodas o venta de entradas.'},{value:'profesionales',label:'Servicios Profesionales: Abogados, contadores o consultores.'},{value:'personalizado',label:'Personalizado'}];// Para FAQs\n// Componente para input con label e icono\nconst LabeledInput=_ref=>{let{label,icon,name,value,placeholder,onChange}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-1\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:name,className:\"flex items-center gap-1 text-gray-700 font-semibold font-poppins\",children:[icon,/*#__PURE__*/_jsx(\"span\",{children:label})]}),/*#__PURE__*/_jsx(\"input\",{id:name,name:name,value:value,placeholder:placeholder,onChange:onChange,className:\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"})]});};const MainConfig=_ref2=>{let{negocioId}=_ref2;const[business,setBusiness]=useState(null);const[error,setError]=useState(null);const[context,setContext]=useState('');const[faqs,setFaqs]=useState([]);const[message,setMessage]=useState('');const[customType,setCustomType]=useState('');useEffect(()=>{setError(null);axios.get(`/api/negocio/${negocioId}`).then(response=>{const data=response.data;const defaultHours={Lunes:{open:'09:00',close:'18:00'},Martes:{open:'09:00',close:'18:00'},Miércoles:{open:'09:00',close:'18:00'},Jueves:{open:'09:00',close:'18:00'},Viernes:{open:'09:00',close:'18:00'},Sábado:{open:'09:00',close:'18:00'},Domingo:{open:'09:00',close:'18:00'}};setBusiness({id:data.id,name:data.nombre,type:data.tipo_negocio,location:data.localidad,address:data.direccion,hours:data.horarios?JSON.parse(data.horarios):defaultHours,isActive:data.estado_bot});setContext(data.contexto||'');setCustomType(businessTypes.find(bt=>bt.value===data.tipo_negocio)?'':data.tipo_negocio);}).catch(error=>{var _error$response;console.error('Error fetching business data:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===404){setError('Negocio no encontrado');}else{setError('Error al cargar la configuración');}});axios.get(`/api/faqs/${negocioId}`).then(response=>{const mapped=response.data.map(f=>({id:f.id,question:f.pregunta,answer:f.respuesta}));setFaqs(mapped);}).catch(error=>{console.error('Error fetching FAQs:',error);setFaqs([]);});},[negocioId]);const handleInputChange=e=>{const{name,value}=e.target;if(business)setBusiness({...business,[name]:value});};const handleTypeChange=e=>{const value=e.target.value;if(business){if(value==='personalizado'){setCustomType('');setBusiness({...business,type:'personalizado'});}else{setCustomType('');setBusiness({...business,type:value});}}};const handleCustomTypeChange=e=>{const value=e.target.value;setCustomType(value);if(business)setBusiness({...business,type:value});};const handleHoursChange=(day,field,value)=>{if(business){setBusiness({...business,hours:{...business.hours,[day]:{...business.hours[day],[field]:value}}});}};// --- FAQ CRUD ---\nconst handleFaqChange=(index,field,value)=>{setFaqs(f=>f.map((faq,i)=>i===index?{...faq,[field]:value}:faq));};const addFaq=()=>{setFaqs([...faqs,{question:'',answer:'',isNew:true}]);};const removeFaq=index=>{const toDelete=faqs[index];if(toDelete.id){axios.delete(`/api/faqs/${toDelete.id}`).then(()=>{setFaqs(prev=>prev.filter((_,i)=>i!==index));}).catch(()=>setMessage('Error al eliminar FAQ'));}else{setFaqs(prev=>prev.filter((_,i)=>i!==index));}};const handleSave=async()=>{if(!business)return;try{// Guarda config de negocio\nconst updatedBusiness={nombre:business.name,tipo_negocio:business.type,localidad:business.location,direccion:business.address,horarios:JSON.stringify(business.hours),contexto:context};await axios.put(`/api/negocio/${negocioId}`,updatedBusiness);// CRUD FAQs\nfor(const faq of faqs){if(!faq.question.trim()&&!faq.answer.trim())continue;if(!faq.id){await axios.post('/api/faqs',{negocioId,pregunta:faq.question,respuesta:faq.answer});}else{await axios.put(`/api/faqs/${faq.id}`,{pregunta:faq.question,respuesta:faq.answer});}}// Actualiza lista a lo que hay en la base\nconst res=await axios.get(`/api/faqs/${negocioId}`);setFaqs(res.data.map(f=>({id:f.id,question:f.pregunta,answer:f.respuesta})));setMessage('Configuración guardada con éxito');}catch(error){console.error('Error saving configuration:',error);setMessage('Error al guardar la configuración');}};const days=['Lunes','Martes','Miércoles','Jueves','Viernes','Sábado','Domingo'];if(!business)return/*#__PURE__*/_jsx(\"div\",{children:\"Cargando...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-[1000px] mx-auto\",style:{boxShadow:'0 0 7px 7px rgba(0,0,0,0.2)'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-black mb-6 font-poppins\",children:\"Informaci\\xF3n de Negocio\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-black mb-4 font-poppins\",children:\"Preguntas Frecuentes (FAQs)\"}),faqs.map((faq,index)=>{var _faq$id;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-3 mb-4 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:faq.question,onChange:e=>handleFaqChange(index,'question',e.target.value),placeholder:\"Pregunta\",className:\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:faq.answer,onChange:e=>handleFaqChange(index,'answer',e.target.value),placeholder:\"Respuesta\",className:\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFaq(index),\"aria-label\":\"Eliminar pregunta frecuente\",title:\"Eliminar FAQ\",className:\"text-primary-red hover:text-secondary-red p-2 rounded focus:outline-none\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]},(_faq$id=faq.id)!==null&&_faq$id!==void 0?_faq$id:index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addFaq,className:\"bg-primary-blue text-white px-4 py-2 rounded-lg hover:bg-[#153E6F] font-poppins\",children:\"A\\xD1ADIR FAQ\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-primary-green text-white px-4 py-2 rounded-lg hover:bg-secondary-green font-poppins\",children:\"GUARDAR CAMBIOS\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:`mt-4 font-poppins ${message.includes('Error')?'text-red-500':'text-green-500'}`,children:message})]});};export default MainConfig;","map":{"version":3,"names":["useState","useEffect","axios","DeleteIcon","jsx","_jsx","jsxs","_jsxs","businessTypes","value","label","LabeledInput","_ref","icon","name","placeholder","onChange","className","children","htmlFor","id","MainConfig","_ref2","negocioId","business","setBusiness","error","setError","context","setContext","faqs","setFaqs","message","setMessage","customType","setCustomType","get","then","response","data","defaultHours","Lunes","open","close","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo","nombre","type","tipo_negocio","location","localidad","address","direccion","hours","horarios","JSON","parse","isActive","estado_bot","contexto","find","bt","catch","_error$response","console","status","mapped","map","f","question","pregunta","answer","respuesta","handleInputChange","e","target","handleTypeChange","handleCustomTypeChange","handleHoursChange","day","field","handleFaqChange","index","faq","i","addFaq","isNew","removeFaq","toDelete","delete","prev","filter","_","handleSave","updatedBusiness","stringify","put","trim","post","res","days","style","boxShadow","_faq$id","onClick","title","includes"],"sources":["/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/MainConfig.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Business, FAQ } from '../types';\nimport StorefrontIcon from '@mui/icons-material/Storefront';\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\n\nconst businessTypes = [\n  { value: '', label: 'Seleccionar' },\n  { value: 'tienda_online', label: 'Tienda Online (E-commerce): Para ventas de productos físicos o digitales.' },\n  { value: 'moda', label: 'Moda y Ropa: Tiendas de ropa, calzado o accesorios.' },\n  { value: 'restaurante', label: 'Restaurante o Cafetería: Negocios de comida y bebida.' },\n  { value: 'agencia_viajes', label: 'Agencia de Viajes: Para reservas de vuelos, hoteles o paquetes turísticos.' },\n  { value: 'hotel', label: 'Hotel o Hospedaje: Hoteles, hostales o Airbnb.' },\n  { value: 'consultorio_medico', label: 'Consultorio Médico: Clínicas, médicos o especialistas.' },\n  { value: 'veterinaria', label: 'Veterinaria: Servicios para mascotas.' },\n  { value: 'gimnasio', label: 'Gimnasio o Centro de Fitness: Para clases, membresías o entrenamientos.' },\n  { value: 'salon_belleza', label: 'Salón de Belleza o Spa: Citas para cortes de pelo, manicuras, masajes, etc.' },\n  { value: 'inmobiliaria', label: 'Inmobiliaria: Venta o alquiler de propiedades.' },\n  { value: 'educacion', label: 'Educación: Escuelas, cursos online o talleres.' },\n  { value: 'concesionario', label: 'Concesionario de Autos: Venta de autos, pruebas de manejo o mantenimiento.' },\n  { value: 'electronica', label: 'Tienda de Electrónica: Venta de dispositivos tecnológicos.' },\n  { value: 'eventos', label: 'Eventos y Entretenimiento: Organizadores de eventos, bodas o venta de entradas.' },\n  { value: 'profesionales', label: 'Servicios Profesionales: Abogados, contadores o consultores.' },\n  { value: 'personalizado', label: 'Personalizado' },\n];\n\n// Para FAQs\ntype FaqWithId = {\n  id?: number;\n  question: string;\n  answer: string;\n  isNew?: boolean;\n};\n\n// Componente para input con label e icono\nconst LabeledInput: React.FC<{\n  label: string;\n  icon: React.ReactNode;\n  name: string;\n  value: string;\n  placeholder?: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}> = ({ label, icon, name, value, placeholder, onChange }) => (\n  <div className=\"flex flex-col gap-1\">\n    <label htmlFor={name} className=\"flex items-center gap-1 text-gray-700 font-semibold font-poppins\">\n      {icon}\n      <span>{label}</span>\n    </label>\n    <input\n      id={name}\n      name={name}\n      value={value}\n      placeholder={placeholder}\n      onChange={onChange}\n      className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n    />\n  </div>\n);\n\nconst MainConfig: React.FC<{ negocioId: number }> = ({ negocioId }) => {\n  const [business, setBusiness] = useState<Business | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [context, setContext] = useState<string>('');\n  const [faqs, setFaqs] = useState<FaqWithId[]>([]);\n  const [message, setMessage] = useState<string>('');\n  const [customType, setCustomType] = useState<string>('');\n\n  useEffect(() => {\n    setError(null);\n    axios.get(`/api/negocio/${negocioId}`)\n      .then(response => {\n        const data = response.data as {\n          id: number;\n          nombre: string;\n          tipo_negocio: string;\n          localidad: string;\n          direccion: string;\n          horarios?: string;\n          estado_bot: boolean;\n          contexto?: string;\n        };\n        const defaultHours = {\n          Lunes: { open: '09:00', close: '18:00' },\n          Martes: { open: '09:00', close: '18:00' },\n          Miércoles: { open: '09:00', close: '18:00' },\n          Jueves: { open: '09:00', close: '18:00' },\n          Viernes: { open: '09:00', close: '18:00' },\n          Sábado: { open: '09:00', close: '18:00' },\n          Domingo: { open: '09:00', close: '18:00' },\n        };\n        setBusiness({\n          id: data.id,\n          name: data.nombre,\n          type: data.tipo_negocio,\n          location: data.localidad,\n          address: data.direccion,\n          hours: data.horarios ? JSON.parse(data.horarios) : defaultHours,\n          isActive: data.estado_bot,\n        });\n        setContext(data.contexto || '');\n        setCustomType(businessTypes.find(bt => bt.value === data.tipo_negocio) ? '' : data.tipo_negocio);\n      })\n      .catch(error => {\n        console.error('Error fetching business data:', error);\n        if (error.response?.status === 404) {\n          setError('Negocio no encontrado');\n        } else {\n          setError('Error al cargar la configuración');\n        }\n      });\n\n    axios.get(`/api/faqs/${negocioId}`)\n      .then(response => {\n        const mapped = (response.data as { id: number; pregunta: string; respuesta: string }[]).map((f) => ({\n          id: f.id,\n          question: f.pregunta,\n          answer: f.respuesta,\n        }));\n        setFaqs(mapped);\n      })\n      .catch(error => {\n        console.error('Error fetching FAQs:', error);\n        setFaqs([]);\n      });\n  }, [negocioId]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (business) setBusiness({ ...business, [name]: value });\n  };\n\n  const handleTypeChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const value = e.target.value;\n    if (business) {\n      if (value === 'personalizado') {\n        setCustomType('');\n        setBusiness({ ...business, type: 'personalizado' });\n      } else {\n        setCustomType('');\n        setBusiness({ ...business, type: value });\n      }\n    }\n  };\n\n  const handleCustomTypeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setCustomType(value);\n    if (business) setBusiness({ ...business, type: value });\n  };\n\n  const handleHoursChange = (day: string, field: 'open' | 'close', value: string) => {\n    if (business) {\n      setBusiness({\n        ...business,\n        hours: {\n          ...business.hours,\n          [day]: {\n            ...business.hours[day],\n            [field]: value,\n          },\n        },\n      });\n    }\n  };\n\n  // --- FAQ CRUD ---\n  const handleFaqChange = (index: number, field: 'question' | 'answer', value: string) => {\n    setFaqs(f => f.map((faq, i) => i === index ? { ...faq, [field]: value } : faq));\n  };\n\n  const addFaq = () => {\n    setFaqs([...faqs, { question: '', answer: '', isNew: true }]);\n  };\n\n  const removeFaq = (index: number) => {\n    const toDelete = faqs[index];\n    if (toDelete.id) {\n      axios.delete(`/api/faqs/${toDelete.id}`)\n        .then(() => {\n          setFaqs((prev) => prev.filter((_, i) => i !== index));\n        })\n        .catch(() => setMessage('Error al eliminar FAQ'));\n    } else {\n      setFaqs((prev) => prev.filter((_, i) => i !== index));\n    }\n  };\n\n  const handleSave = async () => {\n    if (!business) return;\n    try {\n      // Guarda config de negocio\n      const updatedBusiness = {\n        nombre: business.name,\n        tipo_negocio: business.type,\n        localidad: business.location,\n        direccion: business.address,\n        horarios: JSON.stringify(business.hours),\n        contexto: context,\n      };\n      await axios.put(`/api/negocio/${negocioId}`, updatedBusiness);\n\n      // CRUD FAQs\n      for (const faq of faqs) {\n        if (!faq.question.trim() && !faq.answer.trim()) continue;\n        if (!faq.id) {\n          await axios.post('/api/faqs', {\n            negocioId,\n            pregunta: faq.question,\n            respuesta: faq.answer,\n          });\n        } else {\n          await axios.put(`/api/faqs/${faq.id}`, {\n            pregunta: faq.question,\n            respuesta: faq.answer,\n          });\n        }\n      }\n      // Actualiza lista a lo que hay en la base\n      const res = await axios.get<{ id: number; pregunta: string; respuesta: string }[]>(`/api/faqs/${negocioId}`);\n      setFaqs(res.data.map((f) => ({\n        id: f.id,\n        question: f.pregunta,\n        answer: f.respuesta,\n      })));\n\n      setMessage('Configuración guardada con éxito');\n    } catch (error) {\n      console.error('Error saving configuration:', error);\n      setMessage('Error al guardar la configuración');\n    }\n  };\n\n  const days = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\n\n  if (!business) return <div>Cargando...</div>;\n\n  return (\n    <div\n      className=\"bg-white rounded-lg p-6 max-w-[1000px] mx-auto\"\n      style={{ boxShadow: '0 0 7px 7px rgba(0,0,0,0.2)' }}\n    >\n      <h2 className=\"text-2xl font-bold text-black mb-6 font-poppins\">Información de Negocio</h2>\n\n      {/* ... (Input fields, tipos de negocio, horarios, etc) ... */}\n\n      <h3 className=\"text-xl font-bold text-black mb-4 font-poppins\">Preguntas Frecuentes (FAQs)</h3>\n      {faqs.map((faq, index) => (\n        <div key={faq.id ?? index} className=\"flex flex-col md:flex-row gap-3 mb-4 items-center\">\n          <input\n            type=\"text\"\n            value={faq.question}\n            onChange={(e) => handleFaqChange(index, 'question', e.target.value)}\n            placeholder=\"Pregunta\"\n            className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n          />\n          <input\n            type=\"text\"\n            value={faq.answer}\n            onChange={(e) => handleFaqChange(index, 'answer', e.target.value)}\n            placeholder=\"Respuesta\"\n            className=\"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue font-poppins\"\n          />\n          <button\n            onClick={() => removeFaq(index)}\n            aria-label=\"Eliminar pregunta frecuente\"\n            title=\"Eliminar FAQ\"\n            className=\"text-primary-red hover:text-secondary-red p-2 rounded focus:outline-none\"\n          >\n            <DeleteIcon />\n          </button>\n        </div>\n      ))}\n\n      <div className=\"flex justify-between mt-4\">\n        <button\n          onClick={addFaq}\n          className=\"bg-primary-blue text-white px-4 py-2 rounded-lg hover:bg-[#153E6F] font-poppins\"\n        >\n          AÑADIR FAQ\n        </button>\n        <button\n          onClick={handleSave}\n          className=\"bg-primary-green text-white px-4 py-2 rounded-lg hover:bg-secondary-green font-poppins\"\n        >\n          GUARDAR CAMBIOS\n        </button>\n      </div>\n\n      {message && (\n        <p className={`mt-4 font-poppins ${message.includes('Error') ? 'text-red-500' : 'text-green-500'}`}>\n          {message}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default MainConfig;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}