{"ast":null,"code":"import React,{useState,useEffect}from'react';import{AppBar,Toolbar,Typography,IconButton,Menu,MenuItem}from'@mui/material';import HelpOutlineIcon from'@mui/icons-material/HelpOutline';import SettingsIcon from'@mui/icons-material/Settings';import PersonOutlineIcon from'@mui/icons-material/PersonOutline';import AddIcon from'@mui/icons-material/Add';import logo from'../assets/LogoAutoWhappBlanco.png';import axios from'axios';import{useNavigate}from'react-router-dom';// Añadimos useNavigate para redirigir\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{onNegocioChange}=_ref;const[negocios,setNegocios]=useState([]);const[anchorEl,setAnchorEl]=useState(null);const[selectedNegocioId,setSelectedNegocioId]=useState(null);const navigate=useNavigate();// Hook para redirigir\n// Obtener la lista de negocios al cargar el componente\nuseEffect(()=>{axios.get('/api/negocios').then(response=>{setNegocios(response.data);if(response.data.length>0){const firstNegocioId=response.data[0].id;setSelectedNegocioId(firstNegocioId);onNegocioChange(firstNegocioId);}}).catch(error=>{console.error('Error al obtener los negocios:',error);});},[onNegocioChange]);// Abrir el menú al hacer clic en el botón de perfil\nconst handleMenuOpen=event=>{setAnchorEl(event.currentTarget);};// Cerrar el menú\nconst handleMenuClose=()=>{setAnchorEl(null);};// Manejar la selección de un negocio\nconst handleNegocioSelect=negocioId=>{setSelectedNegocioId(negocioId);onNegocioChange(negocioId);// Pasar el negocioId al componente padre\nhandleMenuClose();};// Redirigir a la página para agregar un nuevo negocio\nconst handleAddBusiness=()=>{handleMenuClose();navigate('/add-business');};return/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",sx:{background:'linear-gradient(90deg, rgb(69, 79, 255) 17%, rgb(255, 255, 255) 28%)',boxShadow:'0 6px 24px -8px rgba(50,60,130,0.5), 0 5px 3px 0 rgba(30,40,90,0.5)',zIndex:1300},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo AutoWhapp\",style:{height:40,width:40,marginRight:16,objectFit:'contain'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{flexGrow:1,fontFamily:'Poppins',fontWeight:'bold'},children:\"AutoWhapp\"}),/*#__PURE__*/_jsx(IconButton,{sx:{backgroundColor:'rgb(69, 79, 225)',marginRight:1,'&:hover':{backgroundColor:'#93C5FD'}},children:/*#__PURE__*/_jsx(HelpOutlineIcon,{sx:{color:'#FFFFFF'}})}),/*#__PURE__*/_jsx(IconButton,{sx:{backgroundColor:'rgb(69, 79, 225)',marginRight:1,'&:hover':{backgroundColor:'#93C5FD'}},children:/*#__PURE__*/_jsx(SettingsIcon,{sx:{color:'#FFFFFF'}})}),/*#__PURE__*/_jsx(IconButton,{sx:{backgroundColor:'rgb(69, 79, 225)','&:hover':{backgroundColor:'#93C5FD'}},onClick:handleMenuOpen,children:/*#__PURE__*/_jsx(PersonOutlineIcon,{sx:{color:'#FFFFFF'}})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,PaperProps:{sx:{backgroundColor:'rgb(69, 79, 225)',color:'#FFFFFF'}},children:[negocios.length>0?negocios.map(negocio=>/*#__PURE__*/_jsx(MenuItem,{onClick:()=>handleNegocioSelect(negocio.id),sx:{fontFamily:'Poppins','&:hover':{backgroundColor:'#93C5FD'}},children:negocio.nombre},negocio.id)):/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:\"Sin negocios disponibles\"}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleAddBusiness,sx:{fontFamily:'Poppins','&:hover':{backgroundColor:'#93C5FD'}},children:[/*#__PURE__*/_jsx(AddIcon,{sx:{mr:1}}),\"Agregar Negocio\"]})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","AppBar","Toolbar","Typography","IconButton","Menu","MenuItem","HelpOutlineIcon","SettingsIcon","PersonOutlineIcon","AddIcon","logo","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Header","_ref","onNegocioChange","negocios","setNegocios","anchorEl","setAnchorEl","selectedNegocioId","setSelectedNegocioId","navigate","get","then","response","data","length","firstNegocioId","id","catch","error","console","handleMenuOpen","event","currentTarget","handleMenuClose","handleNegocioSelect","negocioId","handleAddBusiness","position","sx","background","boxShadow","zIndex","children","src","alt","style","height","width","marginRight","objectFit","variant","flexGrow","fontFamily","fontWeight","backgroundColor","color","onClick","open","Boolean","onClose","PaperProps","map","negocio","nombre","disabled","mr"],"sources":["/Users/francoferrari/Desktop/ITBA/IngeSoft/autowhapp/autowhapp-dashboard/src/components/Header.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Menu, MenuItem } from '@mui/material';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport PersonOutlineIcon from '@mui/icons-material/PersonOutline';\nimport AddIcon from '@mui/icons-material/Add';\nimport logo from '../assets/LogoAutoWhappBlanco.png';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; // Añadimos useNavigate para redirigir\n\ninterface Negocio {\n  id: number;\n  nombre: string;\n}\n\nconst Header: React.FC<{ onNegocioChange: (negocioId: number) => void }> = ({ onNegocioChange }) => {\n  const [negocios, setNegocios] = useState<Negocio[]>([]);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [selectedNegocioId, setSelectedNegocioId] = useState<number | null>(null);\n  const navigate = useNavigate(); // Hook para redirigir\n\n  // Obtener la lista de negocios al cargar el componente\n  useEffect(() => {\n    axios.get<Negocio[]>('/api/negocios')\n      .then(response => {\n        setNegocios(response.data);\n        if (response.data.length > 0) {\n          const firstNegocioId = response.data[0].id;\n          setSelectedNegocioId(firstNegocioId);\n          onNegocioChange(firstNegocioId);\n        }\n      })\n      .catch(error => {\n        console.error('Error al obtener los negocios:', error);\n      });\n  }, [onNegocioChange]);\n\n  // Abrir el menú al hacer clic en el botón de perfil\n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  // Cerrar el menú\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  // Manejar la selección de un negocio\n  const handleNegocioSelect = (negocioId: number) => {\n    setSelectedNegocioId(negocioId);\n    onNegocioChange(negocioId); // Pasar el negocioId al componente padre\n    handleMenuClose();\n  };\n\n  // Redirigir a la página para agregar un nuevo negocio\n  const handleAddBusiness = () => {\n    handleMenuClose();\n    navigate('/add-business');\n  };\n\n  return (\n    <AppBar\n      position=\"sticky\"\n      sx={{\n        background: 'linear-gradient(90deg, rgb(69, 79, 255) 17%, rgb(255, 255, 255) 28%)',\n        boxShadow:\n          '0 6px 24px -8px rgba(50,60,130,0.5), 0 5px 3px 0 rgba(30,40,90,0.5)',\n        zIndex: 1300,\n      }}\n    >\n      <Toolbar>\n        <img\n          src={logo}\n          alt=\"Logo AutoWhapp\"\n          style={{\n            height: 40,\n            width: 40,\n            marginRight: 16,\n            objectFit: 'contain',\n          }}\n        />\n        <Typography\n          variant=\"h6\"\n          sx={{\n            flexGrow: 1,\n            fontFamily: 'Poppins',\n            fontWeight: 'bold',\n          }}\n        >\n          AutoWhapp\n        </Typography>\n        <IconButton\n          sx={{\n            backgroundColor: 'rgb(69, 79, 225)',\n            marginRight: 1,\n            '&:hover': { backgroundColor: '#93C5FD' },\n          }}\n        >\n          <HelpOutlineIcon sx={{ color: '#FFFFFF' }} />\n        </IconButton>\n        <IconButton\n          sx={{\n            backgroundColor: 'rgb(69, 79, 225)',\n            marginRight: 1,\n            '&:hover': { backgroundColor: '#93C5FD' },\n          }}\n        >\n          <SettingsIcon sx={{ color: '#FFFFFF' }} />\n        </IconButton>\n        <IconButton\n          sx={{\n            backgroundColor: 'rgb(69, 79, 225)',\n            '&:hover': { backgroundColor: '#93C5FD' },\n          }}\n          onClick={handleMenuOpen}\n        >\n          <PersonOutlineIcon sx={{ color: '#FFFFFF' }} />\n        </IconButton>\n        <Menu\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={handleMenuClose}\n          PaperProps={{\n            sx: {\n              backgroundColor: 'rgb(69, 79, 225)',\n              color: '#FFFFFF',\n            },\n          }}\n        >\n          {negocios.length > 0 ? (\n            negocios.map(negocio => (\n              <MenuItem\n                key={negocio.id}\n                onClick={() => handleNegocioSelect(negocio.id)}\n                sx={{\n                  fontFamily: 'Poppins',\n                  '&:hover': { backgroundColor: '#93C5FD' },\n                }}\n              >\n                {negocio.nombre}\n              </MenuItem>\n            ))\n          ) : (\n            <MenuItem disabled>Sin negocios disponibles</MenuItem>\n          )}\n          <MenuItem\n            onClick={handleAddBusiness}\n            sx={{\n              fontFamily: 'Poppins',\n              '&:hover': { backgroundColor: '#93C5FD' },\n            }}\n          >\n            <AddIcon sx={{ mr: 1 }} />\n            Agregar Negocio\n          </MenuItem>\n        </Menu>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}